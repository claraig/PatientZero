[gd_scene load_steps=37 format=2]

[ext_resource path="res://assets/town/town2.jpg" type="Texture" id=1]
[ext_resource path="res://assets/town/school.jpg" type="Texture" id=2]
[ext_resource path="res://assets/town/work.jpg" type="Texture" id=3]
[ext_resource path="res://assets/town/restaurant.jpg" type="Texture" id=4]
[ext_resource path="res://assets/town/airport.jpg" type="Texture" id=5]
[ext_resource path="res://assets/town/Mall.jpg" type="Texture" id=6]
[ext_resource path="res://assets/town/market.jpg" type="Texture" id=7]
[ext_resource path="res://scenes/InfoTurno.gd" type="Script" id=8]
[ext_resource path="res://assets/audio/ALERT_Error.wav" type="AudioStream" id=9]
[ext_resource path="res://assets/audio/DoorKnobOpening1.wav" type="AudioStream" id=10]
[ext_resource path="res://assets/audio/TurningPage1.wav" type="AudioStream" id=11]
[ext_resource path="res://assets/audio/MESSAGE-B_Accept.wav" type="AudioStream" id=12]
[ext_resource path="res://assets/autoral/jornal_mortes.png" type="Texture" id=13]
[ext_resource path="res://Fonts/twCenC_100.tres" type="DynamicFont" id=14]
[ext_resource path="res://Fonts/twCenC_68.tres" type="DynamicFontData" id=15]
[ext_resource path="res://scripts/jornal.gd" type="Script" id=16]
[ext_resource path="res://assets/autoral/ficha.png" type="Texture" id=17]
[ext_resource path="res://scripts/place.gd" type="Script" id=18]
[ext_resource path="res://assets/autoral/jornal_dia0.png" type="Texture" id=19]
[ext_resource path="res://assets/autoral/abasA.png" type="Texture" id=20]
[ext_resource path="res://assets/autoral/notepad.png" type="Texture" id=21]
[ext_resource path="res://assets/autoral/ficha_aberta.png" type="Texture" id=22]
[ext_resource path="res://Fonts/blackground_48.tres" type="DynamicFont" id=23]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

var turnoAtual:int
var quantidadeDoentes:int = 0
var quantidadeMortos:int = 0
var pessoas
var lugares
var pacienteZero
var venceu = false


# Called when the node enters the scene tree for the first time.
func _ready():

	turnoAtual = 0
	venceu = false

	$jornal/j_mortes.hide()	 #ainda não morreu ninguém
	$jornal.show()
	$jornal/j_dia1.show()
	$bJornal.show() #background escuro

	pessoas = get_node(\"Population\").get_children()
	print(pessoas)
	lugares = get_node(\"Places\").get_children()
	_passarTurno()
	_atualizarInfos()

func _atualizarInfos():

	var texto = \"Turno Atual: \" + str(turnoAtual) + \"  Doentes: \" + str(quantidadeDoentes) + \"  Mortos: \" + str(quantidadeMortos)
	get_node(\"InfoTurno\").set_text(texto)

	# Atualizar Jornal com mortes
	var jmortes = \"Vírus matou\\n\" + str(quantidadeMortos) + \" pessoa(s).\"
	get_node('jornal/j_mortes/j_mortes/jmortes').set_text(jmortes)
	var jinfectados = \"Cidade tem\\n\" + str(quantidadeDoentes) + \"  doente(s).\"
	get_node('jornal/j_mortes/j_mortes/jinfec').set_text(jinfectados)
	var jturno = \"Dia \" + str(turnoAtual)
	get_node('jornal/j_mortes/j_mortes/jturno').set_text(jturno)


func _encontraPacienteZero():
	for n in pessoas:
		if(n.pacienteZero == 1):
			pacienteZero = n

#func _movimentoPacienteZero():
#	var lugaresFrequentados = []
#	var pessoasEncontradas = []
#	for i in range(0, 1):
#		pacienteZero.inte


func _movimentoVisitacao():
	for p in pessoas:
		if (p.imunidade > 0 && p.name != get_node(\"Population\").isolado):
			randomize()
			var place1 = randi()%lugares.size()-1
			randomize()
			var place2 = randi()%lugares.size()-1
			if (place1 == place2):
				place2+=1
				lugares[place1].visitantes[turnoAtual-1].pessoas.push_back(p.name)
				lugares[place2].visitantes[turnoAtual-1].pessoas.push_back(p.name)
			else:
				lugares[place1].visitantes[turnoAtual-1].pessoas.push_back(p.name)
				lugares[place2].visitantes[turnoAtual-1].pessoas.push_back(p.name)


func _passandoDoenca():
	var contaminadas = []
	for p in pessoas:
		if(p.doente || p.pacienteZero):
			for l in lugares:
				if(l.visitantes[turnoAtual-1].pessoas.has(p.name) && l.visitantes[turnoAtual-1].pessoas.size() > 1):
					contaminadas.push_back(_retornaContaminada(p.name, l.visitantes[turnoAtual-1].pessoas))
	print(contaminadas)
	for p in pessoas:
		if(contaminadas.has(p.name) && (!p.doente && !p.pacienteZero)):
			p.doente = true
			quantidadeDoentes+=1
			p.turnoAdoecimento = turnoAtual
			p.get_node(\"Button\").add_color_override(\"font_color\", Color( 1, 0.5, 0.31, 0.7 ))

#			p.get_node(\"Button\").add_color_override(\"font_color\", Color(9,248,43))


func _retornaContaminada(doente, visitantes):
	var sorteado = doente
	var randon
	while(sorteado == doente):
		randon = randi() % visitantes.size()-1
		sorteado = visitantes[randon]
	return sorteado


func _diminuindoImunidade():
	for p in pessoas:
		if(p.doente && p.imunidade > 0):
			p.imunidade-=1
		if(p.imunidade == 0 && !p.morta):
			p.morta = true
			quantidadeMortos+=1
#			p.get_node(\"Button\").visible = false
#
#			p.get_node(\"Button\").add_color_override(\"font_color\", Color( 0.74, 0.72, 0.42, 1 ))
#			p.get_node(\"Button\").clear_color(\"font_color\", Color(99,248,43))

			if(quantidadeDoentes > 0):
				quantidadeDoentes-=1

func _desabilitarMortosPraNaoVirarZumbi():
	for p in pessoas:
		print(p.get_children())
		if(p.morta):
			p.get_node(\"Button\").disabled = true



func _tirarIsolamento():

	for p in pessoas:
		if(p.name == get_node(\"Population\").isolado):
			p.get_node(\"Button\").disabled = false
	get_node(\"Population\").isolado = \"\"
	get_node(\"Population\").selecionado = \"\"
# Passar de Turno

func _inserirTurnoLugares():
	for l in lugares:
		l.visitantes.push_back({\"turno\":turnoAtual,\"pessoas\":[]})


func _passarTurno():
	turnoAtual+=1
	_venceu()
	if(!venceu):
		_inserirTurnoLugares()
		_movimentoVisitacao()
		_diminuindoImunidade()
		_desabilitarMortosPraNaoVirarZumbi()
		_passandoDoenca()
		_tirarIsolamento()
		_atualizarInfos()
	else:
		get_node(\"InfoTurno\").set_text(\"Você encontrou o paciente zero, parabéns!\")
		get_node('Sons/venceu').play()
		get_node('InfoTurno')._corVenceu()


func _on_NextTurn_button_down():
	if(quantidadeMortos < pessoas.size()-1):
		get_node('Sons/turno').play()
		_passarTurno()
		$jornal.show()
		$jornal/j_mortes.show()
		$bJornal.show()
	else:
		get_node(\"InfoTurno\").set_text(\"Todos Morreram! FIm de Jogo =(\")
		get_node('Sons/perdeu').play()
		get_node('InfoTurno')._corPerdeu()


func _on_bJornal_button_up() -> void:
	$jornal.hide()
	$bJornal.hide()
	get_node('jornal')._reset()

# Venceu

func _venceu():
	for p in pessoas:
		if(p.name == get_node(\"Population\").isolado && p.pacienteZero):
			venceu = true
"

[sub_resource type="Gradient" id=2]
offsets = PoolRealArray( 0.754286 )
colors = PoolColorArray( 1, 1, 1, 1 )

[sub_resource type="GradientTexture" id=3]
gradient = SubResource( 2 )
width = 1

[sub_resource type="StyleBoxFlat" id=4]

[sub_resource type="StyleBoxFlat" id=5]
bg_color = Color( 0.545098, 0.517647, 0.517647, 1 )

[sub_resource type="DynamicFontData" id=6]
hinting = 0
font_path = "res://Fonts/COUR.TTF"

[sub_resource type="DynamicFont" id=7]
outline_color = Color( 0, 0, 0, 1 )
font_data = SubResource( 6 )

[sub_resource type="GDScript" id=8]
script/source = "extends Node

var isolado:String = \"\"
var selecionado:String = \"\"

# Called when the node enters the scene tree for the first time.
func _ready():
	_inicializaPessoas()
	_inicializarPacienteZero()
	_printPessoas()


func _inicializaPessoas():
	var listaPessoas = get_children()
	for n in listaPessoas :
		randomize()
		n.imunidade = rand_range(1,5)

func _inicializarPacienteZero():
	randomize()
	var listaPessoas = get_children()
	print(listaPessoas.size())
	var sorteado = rand_range(0, listaPessoas.size())
	listaPessoas[sorteado].pacienteZero = true


func _printPessoas():
	var listaPessoas = get_children()
	for n in listaPessoas :
		print(n.name)
		print(\"Imunidade\")
		print(n.imunidade)
		print(\"é paciente zero ?\")
		print(n.pacienteZero)


# Isolar pessoa

func _on_Button_button_down():
	if(isolado == \"\"):
		for p in get_children():
			if(p.name == selecionado):
				p.get_node(\"Button\").disabled = true
				isolado = selecionado


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[sub_resource type="GDScript" id=9]
script/source = "extends Node

var imunidade:int
var isolada:bool = false
var morta:bool = false
var doente:bool = false
var pacienteZero:bool = false
var maximo_contatos:int = 2
var turnoAdoecimento
var texto: String

# Called when the node enters the scene tree for the first time.
func _ready():
	get_parent().get_parent().get_node('ficha/FichaFechada').show()
	get_parent().get_parent().get_node('Isolar').hide()
	get_parent().get_parent().get_node('painelFicha').hide()
	pass

func formatarInteracoes():
	texto += \"Adoeceu Turno \"+ str(turnoAdoecimento)+ \"\\n\"

func _on_Button_button_down():
#	ficha/FichaFechada
	get_parent().get_parent().get_node('ficha/FichaFechada').hide()
	get_parent().get_parent().get_node('Isolar').show()
	get_parent().get_parent().get_node('painelFicha').show()

	texto = \"Nome: \"+str(name)+\"\\n\"
	get_parent().get_parent().get_node(\"Population\").selecionado = name
	if(doente):
		formatarInteracoes()
	else :
		texto += \"Essa pessoa ainda não foi ao hospital!\"
	get_parent().get_parent().get_node(\"painel\").set_text(texto)
	get_parent().get_parent().get_node(\"painelFicha\").set_text(texto)

# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
"

[sub_resource type="StyleBoxFlat" id=10]
bg_color = Color( 0.596078, 0.72549, 0.721569, 1 )
draw_center = false

[sub_resource type="StyleBoxFlat" id=11]
bg_color = Color( 0.623529, 0.282353, 0.0666667, 1 )

[sub_resource type="StyleBoxFlat" id=12]
bg_color = Color( 0.933333, 0.427451, 0.180392, 1 )

[sub_resource type="DynamicFont" id=13]
size = 68
font_data = ExtResource( 15 )

[node name="Town" type="Node2D"]
script = SubResource( 1 )

[node name="background_color" type="Sprite" parent="."]
position = Vector2( 640, 360 )
scale = Vector2( 1280, 720 )
z_index = -10
texture = SubResource( 3 )
region_rect = Rect2( 1280, 0, 0, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="InfoTurno" type="Label" parent="."]
margin_left = 323.957
margin_top = 42.9831
margin_right = 612.957
margin_bottom = 98.9831
custom_styles/normal = SubResource( 4 )
align = 1
valign = 1
autowrap = true
script = ExtResource( 8 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="painel" type="Label" parent="."]
margin_left = 963.87
margin_top = 319.931
margin_right = 1254.87
margin_bottom = 682.931
custom_styles/normal = SubResource( 5 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Informações"
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="painelFicha" type="Label" parent="."]
margin_left = 138.0
margin_top = 65.0
margin_right = 286.0
margin_bottom = 151.0
custom_fonts/font = SubResource( 7 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Informações"
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bloco de notas" type="Label" parent="."]
margin_left = 957.402
margin_top = 42.1171
margin_right = 1248.4
margin_bottom = 276.117
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "
"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="notas" type="Sprite" parent="bloco de notas"]
position = Vector2( 147.818, 117.066 )
scale = Vector2( 0.413545, 0.413545 )
z_index = -1
texture = ExtResource( 21 )

[node name="TextEdit" type="TextEdit" parent="bloco de notas"]
light_mask = 0
margin_left = 32.0
margin_top = 62.0
margin_right = 258.0
margin_bottom = 218.0
custom_colors/background_color = Color( 0.368627, 0.368627, 0.372549, 1 )
text = "(escreva o que quiser aqui)"
syntax_highlighting = true
show_line_numbers = true
wrap_enabled = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sons" type="Node" parent="."]

[node name="venceu" type="AudioStreamPlayer" parent="Sons"]
stream = ExtResource( 12 )

[node name="perdeu" type="AudioStreamPlayer" parent="Sons"]
stream = ExtResource( 9 )

[node name="porta" type="AudioStreamPlayer2D" parent="Sons"]
stream = ExtResource( 10 )

[node name="turno" type="AudioStreamPlayer2D" parent="Sons"]
stream = ExtResource( 11 )

[node name="AudioStreamPlayer2D3" type="AudioStreamPlayer2D" parent="Sons"]

[node name="Sprites" type="Node" parent="."]

[node name="spr_town2" type="Sprite" parent="Sprites"]
show_behind_parent = true
position = Vector2( 564.737, 386.495 )
scale = Vector2( 0.357, 0.357 )
z_index = -9
texture = ExtResource( 1 )

[node name="airp" type="Sprite" parent="Sprites"]
position = Vector2( 827.518, 377.902 )
scale = Vector2( 0.366283, 0.366283 )
z_index = -8
texture = ExtResource( 5 )

[node name="Places" type="Node2D" parent="."]
position = Vector2( -12, 42.6477 )
z_index = -10
__meta__ = {
"_edit_lock_": true
}

[node name="Mall" type="Node2D" parent="Places"]
script = ExtResource( 18 )

[node name="Button" type="Button" parent="Places/Mall"]
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 679.325
margin_top = 356.153
margin_right = 993.325
margin_bottom = 820.153
rect_scale = Vector2( 0.347381, 0.36 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
icon = ExtResource( 6 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="School" type="Node2D" parent="Places"]
script = ExtResource( 18 )

[node name="Button" type="Button" parent="Places/School"]
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 514.325
margin_top = 453.153
margin_right = 879.325
margin_bottom = 885.153
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 2 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Market" type="Node2D" parent="Places"]
script = ExtResource( 18 )

[node name="Button" type="Button" parent="Places/Market"]
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 513.325
margin_top = 112.153
margin_right = 878.325
margin_bottom = 544.153
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 7 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Restaurant" type="Node2D" parent="Places"]
script = ExtResource( 18 )

[node name="Button" type="Button" parent="Places/Restaurant"]
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 247.325
margin_top = 389.153
margin_right = 612.325
margin_bottom = 821.153
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 4 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Work" type="Node2D" parent="Places"]
script = ExtResource( 18 )

[node name="Button" type="Button" parent="Places/Work"]
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 330.325
margin_top = 249.153
margin_right = 695.325
margin_bottom = 721.153
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 3 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Airport" type="Node2D" parent="Places"]
script = ExtResource( 18 )

[node name="Button" type="Button" parent="Places/Airport"]
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 787.325
margin_top = 261.153
margin_right = 1152.33
margin_bottom = 693.153
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 5 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Population" type="Node2D" parent="."]
position = Vector2( 85.1284, 283.145 )
z_index = -7
script = SubResource( 8 )

[node name="Cal" type="Node" parent="Population"]
script = SubResource( 9 )

[node name="Button" type="Button" parent="Population/Cal"]
margin_left = 105.0
margin_top = 601.0
margin_right = 182.0
margin_bottom = 632.0
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Cal"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Mark" type="Node" parent="Population"]
script = SubResource( 9 )

[node name="Button" type="Button" parent="Population/Mark"]
margin_left = 206.0
margin_top = 600.0
margin_right = 281.0
margin_bottom = 631.0
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Mark"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sinty" type="Node" parent="Population"]
script = SubResource( 9 )

[node name="Button" type="Button" parent="Population/Sinty"]
margin_left = 305.0
margin_top = 602.0
margin_right = 386.0
margin_bottom = 633.0
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Sinty"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Eron" type="Node" parent="Population"]
script = SubResource( 9 )

[node name="Button" type="Button" parent="Population/Eron"]
margin_left = 404.0
margin_top = 603.0
margin_right = 477.0
margin_bottom = 634.0
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Eron"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Judite" type="Node" parent="Population"]
script = SubResource( 9 )

[node name="Button" type="Button" parent="Population/Judite"]
margin_left = 69.0
margin_top = 631.0
margin_right = 143.0
margin_bottom = 667.0
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Judite"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Neil" type="Node" parent="Population"]
script = SubResource( 9 )

[node name="Button" type="Button" parent="Population/Neil"]
margin_left = 171.0
margin_top = 631.0
margin_right = 244.0
margin_bottom = 662.0
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Neil"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Margaret" type="Node" parent="Population"]
script = SubResource( 9 )

[node name="Button" type="Button" parent="Population/Margaret"]
margin_left = 254.0
margin_top = 632.0
margin_right = 358.0
margin_bottom = 663.0
custom_styles/disabled = SubResource( 10 )
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Margaret"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="NextTurn" type="Button" parent="."]
margin_left = 628.164
margin_top = 47.816
margin_right = 745.164
margin_bottom = 96.816
custom_styles/normal = SubResource( 11 )
text = "Proximo Turno"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Isolar" type="Button" parent="."]
margin_left = 83.4321
margin_top = 157.649
margin_right = 260.432
margin_bottom = 207.649
custom_styles/normal = SubResource( 12 )
text = "Isolar Pessoa Selecionada"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bJornal" type="Button" parent="."]
visible = false
modulate = Color( 0.545098, 0.517647, 0.517647, 1 )
self_modulate = Color( 0.388235, 0.329412, 0.301961, 0.807843 )
light_mask = 0
margin_left = -328.588
margin_top = -246.823
margin_right = 1670.41
margin_bottom = 1022.18
focus_mode = 0
shortcut_in_tooltip = false
button_mask = 0
enabled_focus_mode = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="jornal" type="Node2D" parent="."]
visible = false
position = Vector2( 654.412, 375.177 )
script = ExtResource( 16 )

[node name="j_dia1" type="Node2D" parent="jornal"]
script = ExtResource( 16 )

[node name="j_dia0" type="Sprite" parent="jornal/j_dia1"]
scale = Vector2( 0.4, 0.4 )
z_index = 1
texture = ExtResource( 19 )

[node name="j_mortes" type="Node2D" parent="jornal"]
visible = false

[node name="j_mortes" type="Sprite" parent="jornal/j_mortes"]
scale = Vector2( 0.45, 0.45 )
z_index = 1
texture = ExtResource( 13 )

[node name="jmortes" type="Label" parent="jornal/j_mortes/j_mortes"]
margin_left = -262.0
margin_top = 225.0
margin_right = 211.0
margin_bottom = 416.0
custom_fonts/font = ExtResource( 14 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -25
text = "Vírus matou
xx pessoas"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="jturno" type="Label" parent="jornal/j_mortes/j_mortes"]
margin_left = 122.0
margin_top = -415.0
margin_right = 450.0
margin_bottom = -307.0
custom_fonts/font = ExtResource( 14 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -25
text = "Dia 2"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="jinfec" type="Label" parent="jornal/j_mortes/j_mortes"]
margin_left = 218.0
margin_top = 35.0
margin_right = 466.0
margin_bottom = 340.0
custom_fonts/font = SubResource( 13 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -20
text = "Cidade tem x infectados"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ficha" type="Node2D" parent="."]
position = Vector2( 164.705, 127.693 )

[node name="FichaFechada" type="Sprite" parent="ficha"]
scale = Vector2( 0.33, 0.33 )
z_index = -1
texture = ExtResource( 17 )

[node name="FichaAberta" type="Sprite" parent="ficha"]
scale = Vector2( 0.33, 0.33 )
z_index = -2
texture = ExtResource( 22 )

[node name="Abas" type="Node2D" parent="."]

[node name="Sprite2" type="Sprite" parent="Abas"]
position = Vector2( 271.903, 772.62 )
scale = Vector2( 0.292062, 0.288127 )
z_index = -1
texture = ExtResource( 20 )
[connection signal="button_down" from="Places/Mall/Button" to="Places/Mall" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/School/Button" to="Places/School" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Market/Button" to="Places/Market" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Restaurant/Button" to="Places/Restaurant" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Work/Button" to="Places/Work" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Airport/Button" to="Places/Airport" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Cal/Button" to="Population/Cal" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Mark/Button" to="Population/Mark" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Sinty/Button" to="Population/Sinty" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Eron/Button" to="Population/Eron" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Judite/Button" to="Population/Judite" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Neil/Button" to="Population/Neil" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Margaret/Button" to="Population/Margaret" method="_on_Button_button_down"]
[connection signal="button_down" from="NextTurn" to="jornal" method="_on_NextTurn_button_down"]
[connection signal="button_down" from="NextTurn" to="." method="_on_NextTurn_button_down"]
[connection signal="button_down" from="Isolar" to="Population" method="_on_Button_button_down"]
[connection signal="button_up" from="bJornal" to="." method="_on_bJornal_button_up"]
