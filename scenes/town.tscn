[gd_scene load_steps=55 format=2]

[ext_resource path="res://assets/town/town2.png" type="Texture" id=1]
[ext_resource path="res://assets/autoral/escola.png" type="Texture" id=2]
[ext_resource path="res://assets/autoral/mercado.png" type="Texture" id=3]
[ext_resource path="res://assets/autoral/aeroporto.png" type="Texture" id=4]
[ext_resource path="res://assets/autoral/shopping.png" type="Texture" id=5]
[ext_resource path="res://assets/autoral/escritorio.png" type="Texture" id=6]
[ext_resource path="res://assets/autoral/restaurante.png" type="Texture" id=7]
[ext_resource path="res://scenes/InfoTurno.gd" type="Script" id=8]
[ext_resource path="res://assets/audio/ALERT_Error.wav" type="AudioStream" id=9]
[ext_resource path="res://assets/audio/arquive-click.wav" type="AudioStream" id=10]
[ext_resource path="res://assets/audio/TurningPage1.wav" type="AudioStream" id=11]
[ext_resource path="res://assets/audio/MESSAGE-B_Accept.wav" type="AudioStream" id=12]
[ext_resource path="res://assets/autoral/Jornal/jornal_mortes.png" type="Texture" id=13]
[ext_resource path="res://Fonts/twCenC_100.tres" type="DynamicFont" id=14]
[ext_resource path="res://Fonts/twCenC_68.tres" type="DynamicFontData" id=15]
[ext_resource path="res://scripts/jornal.gd" type="Script" id=16]
[ext_resource path="res://assets/autoral/ficha.png" type="Texture" id=17]
[ext_resource path="res://scripts/place.gd" type="Script" id=18]
[ext_resource path="res://assets/autoral/Jornal/jornal_dia0.png" type="Texture" id=19]
[ext_resource path="res://assets/autoral/abasA.png" type="Texture" id=20]
[ext_resource path="res://assets/autoral/notepad.png" type="Texture" id=21]
[ext_resource path="res://assets/autoral/ficha_aberta.png" type="Texture" id=22]
[ext_resource path="res://Fonts/blackground_48.tres" type="DynamicFont" id=23]
[ext_resource path="res://assets/autoral/shopping-hover.png" type="Texture" id=24]
[ext_resource path="res://assets/autoral/escola-hover.png" type="Texture" id=25]
[ext_resource path="res://assets/autoral/restaurante-hover.png" type="Texture" id=26]
[ext_resource path="res://assets/autoral/mercado-hover.png" type="Texture" id=27]
[ext_resource path="res://assets/autoral/escritorio-hover.png" type="Texture" id=28]
[ext_resource path="res://assets/autoral/aeroporto-hover.png" type="Texture" id=29]
[ext_resource path="res://assets/autoral/painel-texto.png" type="Texture" id=30]
[ext_resource path="res://assets/autoral/computer.png" type="Texture" id=31]
[ext_resource path="res://assets/audio/eklee-KeyPressOld05.wav" type="AudioStream" id=32]
[ext_resource path="res://assets/autoral/Jornal/jornal_venceu.png" type="Texture" id=33]
[ext_resource path="res://assets/autoral/Botoes/botaoIsolar2.png" type="Texture" id=34]
[ext_resource path="res://assets/autoral/Jornal/jornal_doentes.png" type="Texture" id=35]
[ext_resource path="res://assets/autoral/Botoes/botaoDia.png" type="Texture" id=36]
[ext_resource path="res://assets/autoral/Botoes/botauMenu.png" type="Texture" id=37]
[ext_resource path="res://assets/audio/keyboard.wav" type="AudioStream" id=38]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

var turnoAtual:int
var quantidadeDoentes:int = 0
var quantidadeMortos:int = 0
var pessoas
var lugares
var pacienteZero
var venceu = false


# Called when the node enters the scene tree for the first time.
func _ready():

	turnoAtual = 1
	venceu = false

	$canvas_jornal/jornal.show()
	$canvas_jornal/jornal/j_dia1.show()

	$canvas_jornal/jornal/j_doentes.hide()
	$canvas_jornal/jornal/j_mortes.hide()	 #ainda não morreu ninguém
	$canvas_jornal/jornal/j_venceu.hide()	#ainda não encontrou

	$canvas_jornal/bJornal.show() #background escuro
	get_node('Sons/turno').play()
	pessoas = get_node(\"Population\").get_children()
	print(pessoas)
	lugares = get_node(\"Places\").get_children()
	_passarTurno()
	_atualizarInfos()

func _atualizarInfos():

	var texto = \"Turno Atual: \" + str(turnoAtual) + \"  Doentes: \" + str(quantidadeDoentes) + \"  Mortos: \" + str(quantidadeMortos)
	get_node(\"display-canvas-bg/dia\").set_text(str(turnoAtual))
	get_node(\"display-canvas-bg/doentes\").set_text(str(quantidadeDoentes))
	get_node(\"display-canvas-bg/mortos\").set_text(str(quantidadeMortos))


	# Atualizar Jornal doentes
	var jdoentes = \"Cidade tem \" + str(quantidadeDoentes) + \" doente(s).\"
	get_node('canvas_jornal/jornal/j_doentes/j_doentes/jinfec').set_text(jdoentes)


	# Atualizar Jornal com mortes
	var jmortes = \"Vírus matou\\n\" + str(quantidadeMortos) + \" pessoa(s).\"
	get_node('canvas_jornal/jornal/j_mortes/j_mortes/jmortes').set_text(jmortes)
	var jinfectados = \"Cidade tem\\n\" + str(quantidadeDoentes) + \"  doente(s).\"
	get_node('canvas_jornal/jornal/j_mortes/j_mortes/jinfec').set_text(jinfectados)
	var jturno = \"Dia \" + str(turnoAtual)
	get_node('canvas_jornal/jornal/j_mortes/j_mortes/jturno').set_text(jturno)

	# Atualizar Jornal vitória
	get_node('canvas_jornal/jornal/j_venceu/j_venceu/jturno').set_text(jturno)



func _encontraPacienteZero():
	for n in pessoas:
		if(n.pacienteZero == 1):
			pacienteZero = n

#func _movimentoPacienteZero():
#	var lugaresFrequentados = []
#	var pessoasEncontradas = []
#	for i in range(0, 1):
#		pacienteZero.inte


func _movimentoVisitacao():
	for p in pessoas:
		if (p.imunidade > 0 && p.name != get_node(\"Population\").isolado):
			randomize()
			var place1 = randi()%lugares.size()-1
			randomize()
			var place2 = randi()%lugares.size()-1
			if (place1 == place2):
				lugares[place1].visitantes[turnoAtual-1].pessoas.push_back(p.name)
			else:
				lugares[place1].visitantes[turnoAtual-1].pessoas.push_back(p.name)
				lugares[place2].visitantes[turnoAtual-1].pessoas.push_back(p.name)


func _passandoDoenca():
	var contaminadas = []
	for p in pessoas:
		if(p.doente || p.pacienteZero):
			for l in lugares:
				if(l.visitantes[turnoAtual-1].pessoas.has(p.name) && l.visitantes[turnoAtual-1].pessoas.size() > 1):
					contaminadas.push_back(_retornaContaminada(p.name, l.visitantes[turnoAtual-1].pessoas))
	print(contaminadas)
	for p in pessoas:
		if(contaminadas.has(p.name) && (!p.doente && !p.pacienteZero)):
			p.doente = true
			quantidadeDoentes+=1
			p.turnoAdoecimento = turnoAtual
			p.get_node(\"Button\").add_color_override(\"font_color\", Color( 1, 0.5, 0.31, 0.7 ))

#			p.get_node(\"Button\").add_color_override(\"font_color\", Color(9,248,43))


func _retornaContaminada(doente, visitantes):
	var sorteado = doente
	var randon
	while(sorteado == doente):
		randon = randi() % visitantes.size()-1
		sorteado = visitantes[randon]
	return sorteado


func _diminuindoImunidade():
	for p in pessoas:
		if(p.doente && p.imunidade > 0):
			p.imunidade-=1
		if(p.imunidade == 0 && !p.morta):
			p.morta = true
			p.turnoMorte = turnoAtual
			quantidadeMortos+=1
#			p.get_node(\"Button\").visible = false
			if(quantidadeDoentes > 0):
				quantidadeDoentes-=1

func _desabilitarMortosPraNaoVirarZumbi():
	for p in pessoas:
		print(p.get_children())
		if(p.morta):
			p.get_node(\"Button\").add_color_override(\"font_color\", Color( 1, 0.1, 0.1, 1 ))



func _tirarIsolamento():
	for p in pessoas:
		if(p.name == get_node(\"Population\").isolado):
			p.get_node(\"Button\").disabled = false
	get_node(\"Population\").isolado = \"\"
	get_node(\"Population\").selecionado = \"\"
# Passar de Turno

func _inserirTurnoLugares():
	for l in lugares:
		l.visitantes.push_back({\"turno\":turnoAtual,\"pessoas\":[]})


func _passarTurno():
	_venceu()
	if(!venceu):
		_inserirTurnoLugares()
		_movimentoVisitacao()
		_passandoDoenca()
		_tirarIsolamento()
	else:
		$canvas_jornal/jornal/j_venceu.show()
		get_node(\"display-canvas-bg/frase\").set_text(\"Você encontrou o paciente zero, parabéns!\")
		get_node('Sons/venceu').play()
		get_node(\"canvas-info-bg/InfoTurno\")._corVenceu()

	_desabilitarMortosPraNaoVirarZumbi()
	_atualizarInfos()


func _on_NextTurn_button_down():
	turnoAtual+=1
	_diminuindoImunidade()
	if(quantidadeMortos < pessoas.size()-1):
		get_node('Sons/turno').play()
		_passarTurno()
		$canvas_jornal/jornal.show()
		if(quantidadeMortos == 0):
			$canvas_jornal/jornal/j_mortes.hide()
			$canvas_jornal/jornal/j_doentes.show()
		else:
			$canvas_jornal/jornal/j_mortes.show()
		$canvas_jornal/bJornal.show()
	else:
		_desabilitarMortosPraNaoVirarZumbi()
		_atualizarInfos()
		get_node(\"display-canvas-bg/frase\").set_text(\"Todos Morreram! FIm de Jogo =(\")
		get_node('Sons/perdeu').play()
		get_node(\"canvas-info-bg/InfoTurno\")._corPerdeu()
		get_node(\"NextTurn\").visible = false
		get_node(\"NextTurn\").disabled = true
		get_node(\"RetornaMenu\").visible = true
		get_node(\"RetornaMenu\").disabled = false



func _on_bJornal_button_up() -> void:
	$canvas_jornal/jornal.hide()
	$canvas_jornal/bJornal.hide()
	get_node(\"canvas_jornal/jornal\")._reset()

# Venceu

func _venceu():
	for p in pessoas:
		if(p.name == get_node(\"Population\").isolado && p.pacienteZero):
			venceu = true
			get_node(\"NextTurn\").visible = false
			get_node(\"NextTurn\").disabled = true
			get_node(\"RetornaMenu\").visible = true
			get_node(\"RetornaMenu\").disabled = false


func _on_RetornaMenu_button_down():
	get_tree().change_scene(\"res://scenes/Menu.tscn\")


func _on_TextEdit_gui_input(event: InputEvent) -> void:
	if event is InputEventKey  and event.pressed:
		get_node('Sons/teclar').play()
"

[sub_resource type="Gradient" id=2]
offsets = PoolRealArray( 0.754286 )
colors = PoolColorArray( 1, 1, 1, 1 )

[sub_resource type="GradientTexture" id=3]
gradient = SubResource( 2 )
width = 1

[sub_resource type="StyleBoxFlat" id=4]
bg_color = Color( 1, 0.847059, 0, 1 )

[sub_resource type="StyleBoxFlat" id=5]
bg_color = Color( 0.6, 0.6, 0.6, 0 )

[sub_resource type="StyleBoxFlat" id=6]
bg_color = Color( 0.6, 0.6, 0.6, 0 )

[sub_resource type="DynamicFontData" id=7]
hinting = 0
font_path = "res://Fonts/COUR.TTF"

[sub_resource type="DynamicFont" id=8]
outline_color = Color( 0, 0, 0, 1 )
font_data = SubResource( 7 )

[sub_resource type="StyleBoxFlat" id=9]

[sub_resource type="GDScript" id=10]
script/source = "extends Node

var isolado:String = \"\"
var selecionado:String = \"\"

# Called when the node enters the scene tree for the first time.
func _ready():
	_inicializaPessoas()
	_inicializarPacienteZero()
	_printPessoas()


func _inicializaPessoas():
	var listaPessoas = get_children()
	for n in listaPessoas :
		randomize()
		n.imunidade = rand_range(3,5)

func _inicializarPacienteZero():
	randomize()
	var listaPessoas = get_children()
	print(listaPessoas.size())
	var sorteado = rand_range(0, listaPessoas.size())
	listaPessoas[sorteado].pacienteZero = true


func _printPessoas():
	var listaPessoas = get_children()
	for n in listaPessoas :
		print(n.name)
		print(\"Imunidade\")
		print(n.imunidade)
		print(\"é paciente zero ?\")
		print(n.pacienteZero)


# Isolar pessoa

func _on_Button_button_down():
		for p in get_children():
			p.get_node(\"Button\").disabled = false
			if(p.name == selecionado && !p.morta):
				p.get_node(\"Button\").disabled = true
				isolado = selecionado
				get_parent().get_node(\"display-canvas-bg/pessoaIsolada\").set_text(selecionado)


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[sub_resource type="GDScript" id=11]
script/source = "extends Node

var imunidade:int
var isolada:bool = false
var morta:bool = false
var doente:bool = false
var pacienteZero:bool = false
var maximo_contatos:int = 2
var turnoAdoecimento
var turnoMorte
var texto: String

# Called when the node enters the scene tree for the first time.
func _ready():
	get_parent().get_parent().get_node('ficha/FichaFechada').show()
	get_parent().get_parent().get_node('Isolar').hide()
	get_parent().get_parent().get_node('painelFicha').hide()
	pass

func formatarInteracoes():
	texto += \"Adoeceu Turno \"+ str(turnoAdoecimento)+ \"\\n\"

func _on_Button_button_down():
#	ficha/FichaFechada
	get_parent().get_parent().get_node(\"Sons/clicar_arquivo\").play()
	get_parent().get_parent().get_node('ficha/FichaFechada').hide()
	get_parent().get_parent().get_node('Isolar').show()
	get_parent().get_parent().get_node('painelFicha').show()

	texto = \"Nome: \"+str(name)+\"\\n\"
	get_parent().get_parent().get_node(\"Population\").selecionado = name
	
	if(morta):
		texto += \"Morreu Turno \"+ str(turnoMorte)+ \"\\n\"
	if(doente):
		formatarInteracoes()
	else :
		texto += \"Essa pessoa ainda não foi ao hospital!\"
	get_parent().get_parent().get_node(\"painelFicha\").set_text(texto)

# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
"

[sub_resource type="StyleBoxFlat" id=12]
bg_color = Color( 0.596078, 0.72549, 0.721569, 1 )
draw_center = false

[sub_resource type="StyleBoxFlat" id=13]
bg_color = Color( 0.623529, 0.282353, 0.0666667, 1 )

[sub_resource type="StyleBoxFlat" id=14]
bg_color = Color( 0.933333, 0.427451, 0.180392, 1 )

[sub_resource type="DynamicFont" id=15]
size = 90
font_data = ExtResource( 15 )

[sub_resource type="DynamicFont" id=16]
size = 65
font_data = ExtResource( 15 )

[node name="Town" type="Node2D"]
script = SubResource( 1 )

[node name="background_color" type="Sprite" parent="."]
position = Vector2( 640, 360 )
scale = Vector2( 1280, 720 )
z_index = -10
texture = SubResource( 3 )
region_rect = Rect2( 1280, 0, 0, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="canvas-info-bg" type="CanvasLayer" parent="."]
layer = 0

[node name="InfoTurno" type="Label" parent="canvas-info-bg"]
margin_left = 645.377
margin_top = 67.0803
margin_right = 934.377
margin_bottom = 206.08
custom_styles/normal = SubResource( 4 )
align = 1
valign = 1
autowrap = true
script = ExtResource( 8 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="display-canvas-bg" type="CanvasLayer" parent="."]

[node name="dia" type="Label" parent="display-canvas-bg"]
margin_left = 797.0
margin_top = 68.0
margin_right = 825.0
margin_bottom = 88.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="doentes" type="Label" parent="display-canvas-bg"]
margin_left = 799.0
margin_top = 92.0
margin_right = 931.0
margin_bottom = 112.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="mortos" type="Label" parent="display-canvas-bg"]
margin_left = 799.0
margin_top = 119.0
margin_right = 930.0
margin_bottom = 139.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="pessoaIsolada" type="Label" parent="display-canvas-bg"]
margin_left = 799.0
margin_top = 146.0
margin_right = 931.0
margin_bottom = 168.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="frase" type="Label" parent="display-canvas-bg"]
margin_left = 652.0
margin_top = 174.0
margin_right = 929.0
margin_bottom = 203.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="quadro" type="Sprite" parent="display-canvas-bg"]
position = Vector2( 791.084, 145.742 )
scale = Vector2( 0.489, 0.475 )
z_index = 5
texture = ExtResource( 30 )

[node name="painel" type="TextEdit" parent="."]
margin_left = 1033.0
margin_top = 357.0
margin_right = 1250.0
margin_bottom = 522.0
custom_styles/read_only = SubResource( 5 )
custom_styles/normal = SubResource( 6 )
custom_colors/font_color_selected = Color( 0, 0, 0, 1 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_colors/line_number_color = Color( 0, 0, 0, 1 )
custom_colors/font_color_readonly = Color( 0, 0, 0, 1 )
text = "Informações"
readonly = true
smooth_scrolling = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="painelFicha" type="Label" parent="."]
margin_left = 138.0
margin_top = 65.0
margin_right = 286.0
margin_bottom = 151.0
custom_fonts/font = SubResource( 8 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Informações"
align = 1
valign = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="bloco de notas" type="Node2D" parent="."]
position = Vector2( 984.4, 65.3156 )

[node name="notas" type="Sprite" parent="bloco de notas"]
position = Vector2( 152.729, 98.6499 )
scale = Vector2( 0.406438, 0.432521 )
z_index = -1
texture = ExtResource( 21 )

[node name="TextEdit" type="TextEdit" parent="bloco de notas"]
light_mask = 0
margin_left = 39.3665
margin_top = 47.2025
margin_right = 265.366
margin_bottom = 203.203
custom_colors/background_color = Color( 0.368627, 0.368627, 0.372549, 1 )
text = "(escreva o que quiser aqui)"
syntax_highlighting = true
show_line_numbers = true
wrap_enabled = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sons" type="Node" parent="."]

[node name="venceu" type="AudioStreamPlayer" parent="Sons"]
stream = ExtResource( 12 )

[node name="perdeu" type="AudioStreamPlayer" parent="Sons"]
stream = ExtResource( 9 )

[node name="turno" type="AudioStreamPlayer2D" parent="Sons"]
stream = ExtResource( 11 )

[node name="teclar" type="AudioStreamPlayer2D" parent="Sons"]
stream = ExtResource( 32 )

[node name="clicar_arquivo" type="AudioStreamPlayer2D" parent="Sons"]
stream = ExtResource( 10 )

[node name="clicar_lugar" type="AudioStreamPlayer2D" parent="Sons"]
stream = ExtResource( 38 )

[node name="Sprites" type="Node" parent="."]

[node name="spr_town2" type="Sprite" parent="Sprites"]
show_behind_parent = true
position = Vector2( 660.489, 366.923 )
scale = Vector2( 0.348639, 0.431027 )
z_index = -2
texture = ExtResource( 1 )

[node name="Places" type="Node2D" parent="."]
position = Vector2( -12, 42.6477 )
z_index = -10
__meta__ = {
"_edit_lock_": true
}

[node name="Shopping" type="Node2D" parent="Places"]
position = Vector2( 27.0103, 62.6147 )
z_index = 10
script = ExtResource( 18 )

[node name="TextureButton" type="TextureButton" parent="Places/Shopping"]
margin_left = 567.562
margin_top = 413.541
margin_right = 1079.56
margin_bottom = 818.541
rect_rotation = -7.58113
rect_scale = Vector2( 0.382, 0.428 )
texture_normal = ExtResource( 5 )
texture_hover = ExtResource( 24 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="Places/Shopping"]
visible = false
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 611.799
margin_top = 410.173
margin_right = 1135.8
margin_bottom = 874.173
rect_rotation = -7.91883
rect_scale = Vector2( 0.347381, 0.36 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
icon = ExtResource( 5 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Escola" type="Node2D" parent="Places"]
z_index = 10
script = ExtResource( 18 )

[node name="TextureButton" type="TextureButton" parent="Places/Escola"]
margin_left = 423.119
margin_top = 417.838
margin_right = 935.119
margin_bottom = 822.838
rect_rotation = 23.0083
rect_scale = Vector2( 0.382, 0.428 )
texture_normal = ExtResource( 2 )
texture_hover = ExtResource( 25 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="Places/Escola"]
visible = false
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 418.561
margin_top = 435.965
margin_right = 942.561
margin_bottom = 867.965
rect_rotation = 16.1989
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 2 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Mercado" type="Node2D" parent="Places"]
z_index = 10
script = ExtResource( 18 )

[node name="TextureButton" type="TextureButton" parent="Places/Mercado"]
margin_left = 336.809
margin_top = 221.891
margin_right = 848.809
margin_bottom = 626.891
rect_rotation = -9.56306
rect_scale = Vector2( 0.382, 0.428 )
texture_normal = ExtResource( 3 )
texture_hover = ExtResource( 27 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="Places/Mercado"]
visible = false
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 331.103
margin_top = 241.389
margin_right = 855.103
margin_bottom = 673.389
rect_rotation = -11.1106
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 3 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Restaurante" type="Node2D" parent="Places"]
z_index = 10
script = ExtResource( 18 )

[node name="TextureButton" type="TextureButton" parent="Places/Restaurante"]
margin_left = 823.177
margin_top = 176.403
margin_right = 1335.18
margin_bottom = 581.403
rect_rotation = 1.23337
rect_scale = Vector2( 0.382, 0.428 )
texture_normal = ExtResource( 7 )
texture_hover = ExtResource( 26 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="Places/Restaurante"]
visible = false
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 832.042
margin_top = 287.864
margin_right = 1356.04
margin_bottom = 719.865
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 7 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Escritorio" type="Node2D" parent="Places"]
z_index = 10
script = ExtResource( 18 )

[node name="TextureButton" type="TextureButton" parent="Places/Escritorio"]
margin_left = 365.968
margin_top = 17.7794
margin_right = 877.968
margin_bottom = 422.779
rect_rotation = 1.4679
rect_scale = Vector2( 0.382, 0.428 )
texture_normal = ExtResource( 6 )
texture_hover = ExtResource( 28 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="Places/Escritorio"]
visible = false
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 380.186
margin_top = -1.2626
margin_right = 904.186
margin_bottom = 470.737
rect_rotation = 11.398
rect_scale = Vector2( 0.347381, 0.36 )
icon = ExtResource( 6 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Aeroporto" type="Node2D" parent="Places"]
z_index = 10
script = ExtResource( 18 )

[node name="TextureButton" type="TextureButton" parent="Places/Aeroporto"]
margin_left = 832.508
margin_top = 408.507
margin_right = 1344.51
margin_bottom = 813.507
rect_rotation = 10.6387
rect_scale = Vector2( 0.382, 0.428 )
texture_normal = ExtResource( 4 )
texture_hover = ExtResource( 29 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="Places/Aeroporto"]
visible = false
modulate = Color( 0.776471, 0.713726, 0.713726, 1 )
margin_left = 802.862
margin_top = 18.493
margin_right = 1316.86
margin_bottom = 536.493
rect_rotation = -8.06005
rect_scale = Vector2( 0.347381, 0.36 )
custom_styles/hover = SubResource( 9 )
icon = ExtResource( 4 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Population" type="Node2D" parent="."]
position = Vector2( 85.1284, 283.145 )
z_index = -7
script = SubResource( 10 )

[node name="Cal" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Cal"]
margin_left = 29.3459
margin_top = 529.288
margin_right = 106.346
margin_bottom = 560.288
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Cal"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Catia" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Catia"]
margin_left = 61.6537
margin_top = 508.663
margin_right = 134.654
margin_bottom = 539.663
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Catia"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Ivo" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Ivo"]
margin_left = 129.986
margin_top = 509.327
margin_right = 202.986
margin_bottom = 540.327
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Ivo"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Leo" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Leo"]
margin_left = 197.44
margin_top = 508.0
margin_right = 270.44
margin_bottom = 539.0
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Leo"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Mark" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Mark"]
margin_left = 100.647
margin_top = 528.302
margin_right = 175.647
margin_bottom = 559.302
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Mark"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Sinty" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Sinty"]
margin_left = 165.352
margin_top = 527.833
margin_right = 246.352
margin_bottom = 558.833
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Sinty"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Eron" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Eron"]
margin_left = 236.984
margin_top = 528.171
margin_right = 309.984
margin_bottom = 559.171
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Eron"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Judite" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Judite"]
margin_left = 78.4875
margin_top = 551.502
margin_right = 149.488
margin_bottom = 582.502
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Judite"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Neil" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Neil"]
margin_left = 144.165
margin_top = 552.321
margin_right = 217.165
margin_bottom = 583.321
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Neil"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Mary" type="Node" parent="Population"]
script = SubResource( 11 )

[node name="Button" type="Button" parent="Population/Mary"]
margin_left = 213.128
margin_top = 552.625
margin_right = 277.128
margin_bottom = 583.625
custom_styles/disabled = SubResource( 12 )
custom_fonts/font = ExtResource( 23 )
custom_colors/font_color = Color( 0.360784, 0.298039, 0.266667, 1 )
text = "Mary"
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="NextTurn" type="Button" parent="."]
margin_left = 69.3422
margin_top = 360.834
margin_right = 261.342
margin_bottom = 412.834
custom_styles/normal = SubResource( 13 )
icon = ExtResource( 36 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RetornaMenu" type="Button" parent="."]
visible = false
margin_left = 64.8168
margin_top = 357.838
margin_right = 268.817
margin_bottom = 415.838
disabled = true
icon = ExtResource( 37 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Isolar" type="Button" parent="."]
margin_left = 110.992
margin_top = 169.664
margin_right = 215.992
margin_bottom = 219.664
custom_styles/normal = SubResource( 14 )
icon = ExtResource( 34 )
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="canvas_jornal" type="CanvasLayer" parent="."]
layer = 5

[node name="bJornal" type="Button" parent="canvas_jornal"]
visible = false
modulate = Color( 0.545098, 0.517647, 0.517647, 1 )
self_modulate = Color( 0.388235, 0.329412, 0.301961, 0.807843 )
light_mask = 0
margin_left = -328.588
margin_top = -246.823
margin_right = 1670.41
margin_bottom = 1022.18
focus_mode = 0
shortcut_in_tooltip = false
button_mask = 0
enabled_focus_mode = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="jornal" type="Node2D" parent="canvas_jornal"]
visible = false
position = Vector2( 654.412, 375.177 )
z_index = 143
script = ExtResource( 16 )

[node name="j_dia1" type="Node2D" parent="canvas_jornal/jornal"]
visible = false
z_index = 35
script = ExtResource( 16 )

[node name="j_dia0" type="Sprite" parent="canvas_jornal/jornal/j_dia1"]
scale = Vector2( 0.4, 0.4 )
z_index = 67
texture = ExtResource( 19 )

[node name="j_doentes" type="Node2D" parent="canvas_jornal/jornal"]
z_index = 39

[node name="j_doentes" type="Sprite" parent="canvas_jornal/jornal/j_doentes"]
scale = Vector2( 0.45, 0.45 )
z_index = 96
texture = ExtResource( 35 )

[node name="jturno" type="Label" parent="canvas_jornal/jornal/j_doentes/j_doentes"]
margin_left = 122.0
margin_top = -415.0
margin_right = 450.0
margin_bottom = -307.0
custom_fonts/font = ExtResource( 14 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -25
text = "Dia 2"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="jinfec" type="Label" parent="canvas_jornal/jornal/j_doentes/j_doentes"]
margin_left = -249.0
margin_top = 198.0
margin_right = 320.0
margin_bottom = 503.0
custom_fonts/font = SubResource( 15 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -20
text = "Cidade tem x infectados"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="j_mortes" type="Node2D" parent="canvas_jornal/jornal"]
visible = false
z_index = 39

[node name="j_mortes" type="Sprite" parent="canvas_jornal/jornal/j_mortes"]
scale = Vector2( 0.45, 0.45 )
z_index = 96
texture = ExtResource( 13 )

[node name="jmortes" type="Label" parent="canvas_jornal/jornal/j_mortes/j_mortes"]
margin_left = -262.0
margin_top = 225.0
margin_right = 211.0
margin_bottom = 416.0
custom_fonts/font = ExtResource( 14 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -25
text = "Vírus matou
xx pessoas"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="jturno" type="Label" parent="canvas_jornal/jornal/j_mortes/j_mortes"]
margin_left = 122.0
margin_top = -415.0
margin_right = 450.0
margin_bottom = -307.0
custom_fonts/font = ExtResource( 14 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -25
text = "Dia 2"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="jinfec" type="Label" parent="canvas_jornal/jornal/j_mortes/j_mortes"]
margin_left = 218.0
margin_top = 35.0
margin_right = 466.0
margin_bottom = 340.0
custom_fonts/font = SubResource( 16 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -20
text = "Cidade tem x infectados"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="j_venceu" type="Node2D" parent="canvas_jornal/jornal"]
visible = false
z_index = 39

[node name="j_venceu" type="Sprite" parent="canvas_jornal/jornal/j_venceu"]
scale = Vector2( 0.45, 0.45 )
z_index = 96
texture = ExtResource( 33 )

[node name="jturno" type="Label" parent="canvas_jornal/jornal/j_venceu/j_venceu"]
margin_left = 122.0
margin_top = -415.0
margin_right = 450.0
margin_bottom = -307.0
custom_fonts/font = ExtResource( 14 )
custom_colors/font_color = Color( 0.388235, 0.329412, 0.301961, 1 )
custom_constants/line_spacing = -25
text = "Dia 2"
align = 1
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ficha" type="Node2D" parent="."]
position = Vector2( 164.705, 127.693 )

[node name="FichaFechada" type="Sprite" parent="ficha"]
scale = Vector2( 0.33, 0.33 )
z_index = -1
texture = ExtResource( 17 )

[node name="FichaAberta" type="Sprite" parent="ficha"]
scale = Vector2( 0.33, 0.33 )
z_index = -2
texture = ExtResource( 22 )

[node name="Abas" type="Node2D" parent="."]

[node name="Sprite2" type="Sprite" parent="Abas"]
position = Vector2( 158.138, 670.74 )
scale = Vector2( 0.191552, 0.250766 )
z_index = -1
texture = ExtResource( 20 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 1141.28, 521.238 )
scale = Vector2( 0.262, 0.397 )
z_index = -10
texture = ExtResource( 31 )
[connection signal="gui_input" from="bloco de notas/TextEdit" to="." method="_on_TextEdit_gui_input"]
[connection signal="button_down" from="Places/Shopping/TextureButton" to="Places/Shopping" method="_on_TextureButton_button_down"]
[connection signal="button_down" from="Places/Shopping/Button" to="Places/Shopping" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Escola/TextureButton" to="Places/Escola" method="_on_TextureButton_button_down"]
[connection signal="button_down" from="Places/Escola/Button" to="Places/Escola" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Mercado/TextureButton" to="Places/Mercado" method="_on_TextureButton_button_down"]
[connection signal="button_down" from="Places/Mercado/Button" to="Places/Mercado" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Restaurante/TextureButton" to="Places/Restaurante" method="_on_TextureButton_button_down"]
[connection signal="button_down" from="Places/Restaurante/Button" to="Places/Restaurante" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Escritorio/TextureButton" to="Places/Escritorio" method="_on_TextureButton_button_down"]
[connection signal="button_down" from="Places/Escritorio/Button" to="Places/Escritorio" method="_on_Button_button_down"]
[connection signal="button_down" from="Places/Aeroporto/TextureButton" to="Places/Aeroporto" method="_on_TextureButton_button_down"]
[connection signal="button_down" from="Places/Aeroporto/Button" to="Places/Aeroporto" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Cal/Button" to="Population/Cal" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Catia/Button" to="Population/Catia" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Ivo/Button" to="Population/Ivo" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Leo/Button" to="Population/Leo" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Mark/Button" to="Population/Mark" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Sinty/Button" to="Population/Sinty" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Eron/Button" to="Population/Eron" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Judite/Button" to="Population/Judite" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Neil/Button" to="Population/Neil" method="_on_Button_button_down"]
[connection signal="button_down" from="Population/Mary/Button" to="Population/Mary" method="_on_Button_button_down"]
[connection signal="button_down" from="NextTurn" to="canvas_jornal/jornal" method="_on_NextTurn_button_down"]
[connection signal="button_down" from="NextTurn" to="." method="_on_NextTurn_button_down"]
[connection signal="button_down" from="RetornaMenu" to="." method="_on_RetornaMenu_button_down"]
[connection signal="button_down" from="Isolar" to="Population" method="_on_Button_button_down"]
[connection signal="button_up" from="canvas_jornal/bJornal" to="." method="_on_bJornal_button_up"]
